<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Crypto Mining</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f2f2f2; }
header { background:#1e1e1e; color:white; padding:10px 20px; }
header h1 { margin:0; display:inline-block; }
main { padding:20px; }
table { width:100%; border-collapse: collapse; margin-top:15px; }
th, td { border:1px solid #ccc; padding:8px; text-align:left; }
th { background:#eee; }
button { padding:6px 12px; margin:5px 0; cursor:pointer; }
#loginModal { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.7); display:flex; justify-content:center; align-items:center; }
#loginModal div { background:white; padding:20px; border-radius:5px; width:300px; }
#dashboard h3 { margin-top:30px; }
input[type=number] { width:100px; padding:4px; }
.progress-bar { height:12px; background:#eee; border-radius:6px; overflow:hidden; width:100%; margin-top:5px; }
.progress-bar-inner { height:12px; background:#4caf50; width:0%; transition: width 0.5s; }
</style>
</head>
<body>

<header>
  <h1>Crypto Mining</h1>
</header>

<main>
  <!-- Login Modal -->
  <div id="loginModal">
    <div>
      <h2>Login</h2>
      <input type="text" id="emailInput" placeholder="Enter email or username" style="width:100%; padding:6px;">
      <button id="modalLogin" style="width:100%; margin-top:10px;">Login</button>
    </div>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" style="display:none;">
    <h2>ðŸ”¥ Dashboard</h2>
    <p>Hi, <span id="user-email"></span> <button id="logoutBtn">Logout</button></p>

    <div>
      <p>Your Hashrate: <span id="userHashrate">0.00</span> H/s</p>
      <p>Your Balance: <span id="userBalance">0.00</span> USD</p>
      <p>Current Rate: <span id="currentRate">0.35%</span></p>
      <p>Boost Mining: <input type="number" id="usdtInput" value="0"> USDT <button id="buyBoost">Buy</button></p>
    </div>

    <h3>Select a coin to mine:</h3>
    <table id="coinTable">
      <thead>
        <tr>
          <th>Coin</th>
          <th>Symbol</th>
          <th>Balance</th>
          <th>Pool Hashrate</th>
          <th>Your Hashrate</th>
          <th>Progress</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</main>

<script>
const coins = [
  {name:"Bitcoin", symbol:"BTC"},
  {name:"Ethereum", symbol:"ETH"},
  {name:"BNB", symbol:"BNB"},
  {name:"Dogecoin", symbol:"DOGE"},
  {name:"Litecoin", symbol:"LTC"},
  {name:"Polygon", symbol:"POL"},
  {name:"USDT", symbol:"USDT"},
  {name:"USDC", symbol:"USDC"},
  {name:"Shiba Inu", symbol:"SHIB"},
  {name:"TON", symbol:"TON"},
  {name:"Tron", symbol:"TRX"},
  {name:"Monero", symbol:"XMR"},
  {name:"DAI", symbol:"DAI"},
  {name:"Dogs", symbol:"DOGS"},
  {name:"NotCoin", symbol:"NOT"},
  {name:"Solana", symbol:"SOL"}
];

let user = null;
let userHashrate = 5.0;
let userBalance = 0;

// HÃ m lÆ°u user
function setCurrentUser(u) { user = u; }

// Logout
document.getElementById('logoutBtn').addEventListener('click', ()=>{
  user = null;
  userHashrate = 5.0;
  userBalance = 0;
  document.getElementById('dashboard').style.display = 'none';
  document.getElementById('loginModal').style.display = 'flex';
});

// Render báº£ng coin
function renderCoinTable(){
  const tbody = document.querySelector('#coinTable tbody');
  tbody.innerHTML = '';
  coins.forEach(c=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${c.name}</td>
      <td>${c.symbol}</td>
      <td id="${c.symbol}-bal">0.00000000</td>
      <td>${Math.floor(Math.random()*1000)} kH/s</td>
      <td id="${c.symbol}-hash">0 H/s</td>
      <td>
        <div class="progress-bar"><div id="${c.symbol}-progress" class="progress-bar-inner"></div></div>
      </td>
      <td><button class="mineBtn">Mine</button></td>
    `;
    tr.querySelector('.mineBtn').addEventListener('click',()=>{
      mineCoin(c.symbol);
    });
    tbody.appendChild(tr);
  });
}

// Mining function
function mineCoin(symbol){
  const hashIncrease = userHashrate / 1000;
  const balCell = document.getElementById(symbol+'-bal');
  const hashCell = document.getElementById(symbol+'-hash');
  const progBar = document.getElementById(symbol+'-progress');

  let bal = parseFloat(balCell.textContent);
  bal += hashIncrease;
  balCell.textContent = bal.toFixed(8);
  hashCell.textContent = hashIncrease.toFixed(2) + ' H/s';

  // TÄƒng progress (giá»›i háº¡n 100%)
  let progress = parseFloat(progBar.style.width) || 0;
  progress += hashIncrease; // tÄƒng theo H/s
  if(progress>100) progress=100;
  progBar.style.width = progress+'%';

  userBalance += hashIncrease * 0.001; // demo USD
  document.getElementById('userBalance').textContent = userBalance.toFixed(2);
}

// Buy Boost
document.getElementById('buyBoost').addEventListener('click',()=>{
  const usdt = parseFloat(document.getElementById('usdtInput').value);
  if(isNaN(usdt) || usdt<=0){ alert('Enter valid USDT'); return; }
  userHashrate += usdt * 10; // 1 USDT = 10 H/s bonus
  alert('Hashrate boosted by '+(usdt*10)+' H/s!');
  document.getElementById('userHashrate').textContent = userHashrate.toFixed(2);
});

// Login action
document.getElementById('modalLogin').addEventListener('click', ()=>{
  const val = document.getElementById('emailInput').value.trim();
  if(!val){ alert('Please enter email or username'); return; }
  setCurrentUser({name: val, display: val});
  document.getElementById('user-email').textContent = val;
  document.getElementById('loginModal').style.display = 'none';
  document.getElementById('dashboard').style.display = 'block';
  document.getElementById('userHashrate').textContent = userHashrate.toFixed(2);
  renderCoinTable();
});
</script>

</body>
</html>
